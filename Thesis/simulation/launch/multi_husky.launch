<?xml version="1.0"?>
<launch>

    <!-- <arg name="world_path" default="$(find thesis_simulation)/worlds/warehouse.world"/> -->
    <arg name="world_path" default="$(find thesis_simulation)/worlds/tecnopucSim.world"/>
    <arg name="navigating" default="true"/>
    <arg name="run_rviz" default="true"/>
    <arg name="laser_enabled" default="$(optenv HUSKY_LMS1XX_ENABLED true)"/>
    <arg name="realsense_enabled" default="$(optenv HUSKY_REALSENSE_ENABLED false)"/>
    <arg name="urdf_extras" default="$(optenv HUSKY_URDF_EXTRAS)"/>

    <!-- <param name="robot_description" command="$(find xacro)/xacro $(find husky_description)/urdf/husky.urdf.xacro laser_enabled:=$(arg laser_enabled) realsense_enabled:=$(arg realsense_enabled) urdf_extras:=$(arg urdf_extras)"/> -->

    <include file="$(find thesis_simulation)/launch/simulation.launch">
        <arg name="world_path" value="$(arg world_path)"/>
        <arg name="run_rviz" value="$(arg run_rviz)"/>
        <arg name="verbose" value="true"/>
        <arg name="navigating" value="$(arg navigating)"/>
    </include>

    <arg name="robot1_name" value="husky1"/>
    <group ns="$(arg robot1_name)">
        <param name="tf_prefix" value="$(arg robot1_name)_tf"/>    
        <include file="$(find thesis_simulation)/launch/husky_bringup.launch">
            <arg name="model" value="$(arg robot1_name)"/>
            <arg name="init_pose" value="-x -7.00 -y 0.00 -Y 0.0"/>
            <arg name="ipx" value="-7.00"/>
            <arg name="ipy" value="0.00"/>
            <arg name="navigating" value="$(arg navigating)"/>
        </include>
    </group>

    <arg name="robot2_name" value="husky2"/>
    <group ns="$(arg robot2_name)">
        <param name="tf_prefix" value="$(arg robot2_name)_tf"/>    
        <include file="$(find thesis_simulation)/launch/husky_bringup.launch">
            <arg name="model" value="$(arg robot2_name)"/>
            <arg name="init_pose" value="-x 7.00 -y 0.00 -Y 0.0"/>
            <arg name="ipx" value="7.00"/>
            <arg name="ipy" value="0.00"/>
            <arg name="navigating" value="$(arg navigating)"/>
        </include>
    </group>
    

</launch>